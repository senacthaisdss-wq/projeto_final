<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simplus Corretora de Seguros</title>
    <link rel="stylesheet" href="../../global.css">
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="../../assets/logo.png" type="image/x-icon">
</head>
<body>
    <header>
        <div>
            <a href="#">
                <img src="/assets/logo.png" alt="Logo" class="logo">
            </a>

            <h1>Simplus Corretora de Seguros</h1>
        </div>
        <nav>
            <ul>
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../aboutMe/index.html">Sobre nós</a></li>
                <li><a href="../services/index.html">Serviços</a></li>
                <li><a href="#">FAQ</a></li>
            </ul>
        </nav>
    </header>
    <main class="container">
        <h1>Perguntas Frequentes</h1>

        <div class="answer-container">
            <details>
            <summary class="item-summary">
                <div class="summary-left">
                    <span>Quem pode contratar um seguro?</span>
                </div>
                <span class="chev"></span>
            </summary>
            <div class="answer">Qualquer pessoa maior de 18 anos.</div>
        </details>


        <details>
            <summary class="item-summary">
                <div class="summary-left">
                    <span>Preciso de muitos documentos para contratar?</span>
                </div>
                <span class="chev"></span>
            </summary>
            <div class="answer">Não, apenas documentos pessoais e informações do bem a ser segurado.</div>
        </details>


        <details>
            <summary class="item-summary">
                <div class="summary-left">
                    <span>Posso contratar mais de um tipo de seguro?</span>
                </div>
                <span class="chev"></span>
            </summary>
            <div class="answer">Sim, você pode ter seguros de automóvel, casa, animais e vida ao mesmo tempo.</div>
        </details>


        <details>
            <summary class="item-summary">
                <div class="summary-left">
                    <span>O seguro começa a valer imediatamente?</span>
                </div>
                <span class="chev"></span>
            </summary>
            <div class="answer">Em geral, a cobertura começa após a assinatura do contrato e pagamento da primeira parcela.</div>
        </details>


        <details>
            <summary class="item-summary">
                <div class="summary-left">
                    <span>Como funciona o pagamento?</span>
                </div>
                <span class="chev"></span>
            </summary>
            <div class="answer">Pode ser feito à vista ou parcelado no cartão/boleto.</div>
        </details>


        <details>
            <summary class="item-summary">
                <div class="summary-left">
                    <span>Em caso de sinistro, como aciono o seguro?</span>
                </div>
                <span class="chev"></span>
            </summary>
            <div class="answer">Basta entrar em contato com nossa central de atendimento 24h.</div>
        </details>


        <details>
            <summary class="item-summary">
                <div class="summary-left">
                    <span>Posso cancelar meu seguro quando quiser?</span>
                </div>
                <span class="chev"></span>
            </summary>
            <div class="answer">Sim, mas pode haver regras de cancelamento previstas no contrato.</div>
        </details>


        <details>
            <summary class="item-summary">
                <div class="summary-left">
                    <span>O seguro de animais cobre consultas veterinárias?</span>
                </div>
                <span class="chev"></span>
            </summary>
            <div class="answer">Sim, conforme o plano contratado.</div>
        </details>


        <details>
            <summary class="item-summary">
                <div class="summary-left">
                    <span>O seguro de automóvel cobre terceiros?</span>
                </div>
                <span class="chev"></span>
            </summary>
            <div class="answer">Sim, se o plano incluir cobertura contra terceiros.</div>
        </details>


        <details>
            <summary class="item-summary">
                <div class="summary-left">
                    <span>Existe carência para o seguro de vida?</span>
                </div>
                <span class="chev"></span>
            </summary>
            <div class="answer">Algumas coberturas podem ter carência, conforme o contrato.</div>
        </details>
        </div>
        <div class="ask-container">
            <img src="../../assets/click.jpeg" alt="Imagem de celular">
            <div>
                <h3>Faça uma pergunta! Te responderemos via WhatsApp.</h3>
                <form id="faqForm">
                    <div class="inputs-container">
                        <div class="input-container">
                            <label for="phone">Telefone (WhatsApp):</label>
                            <input type="tel" name="phone" id="phone" required placeholder="(DDD) 99999-9999">
                        </div>
                        <div class="input-container">
                            <label for="name">Nome:</label>
                            <input type="text" name="name" id="name" required placeholder="Digite seu nome...">
                        </div>
                    </div>
                    <textarea name="message" id="message" placeholder="Digite sua pergunta..." required></textarea>
                    <button type="submit">Enviar</button>
                    <p id="successMessage" style="display: none; color: green; margin-top: 10px;">Mensagem enviada com sucesso! Responderemos via WhatsApp.</p>
                </form>
            </div>
        </div>
    </main>
    <footer>
        <nav>
            <ul>
                <li>
                    <a href="https://www.instagram.com/simplus_seguros?igsh=a3BkbnhlZzlpaGIz" target="_blank">
                        <img src="../../assets/instagram.png" alt="Instagram" class="social-img">
                    </a>
                </li>
                <li>
                    <a href="https://wa.me/5527997390610" target="_blank">
                        <img src="/assets/whatsapp.png" alt="Whatsapp" class="social-img-medium social-img-space">
                    </a>
                </li>
                <li>
                    <a href="mailto:simplusseguros@gmail.com" target="_blank">
                        <img src="/assets/email.png" alt="E-mail" class="social-img-large">
                    </a>
                </li>
            </ul>
        </nav>
        <p>Sempre por perto, sempre presente!</p>
    </footer>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script>
        // Script para controlar as FAQs
        const faqs = document.querySelectorAll('details')
        faqs.forEach(faq => {
            faq.addEventListener('toggle', () => {
                if (faq.open) {
                    faqs.forEach(otherFaq => {
                        if (otherFaq !== faq && otherFaq.open) {
                            otherFaq.removeAttribute('open')
                        }
                    })
                }
            })
        })

        const form = document.getElementById('faqForm')
        const successMessage = document.getElementById('successMessage')
        const submitButton = form.querySelector('button[type="submit"]')
        const inputs = form.querySelectorAll('input, textarea')

        form.addEventListener('submit', function (e) {
            e.preventDefault()
            
            emailjs.init({
                publicKey: "aKpkp3kIn64S5MEVN",
            })

            // Desabilita inputs e botão, muda texto do botão
            inputs.forEach(input => input.disabled = true)
            submitButton.disabled = true
            submitButton.textContent = 'Enviando...'

            // Coleta os dados
            const name = document.getElementById('name').value
            const phone = document.getElementById('phone').value  // lembre de trocar o id para 'phone' no HTML
            const message = document.getElementById('message').value

            // Envia via EmailJS
            emailjs.send("service_w3lvc3n", "template_qgvpytk", {
                name: name,
                phone: phone,
                message: message
            })
            .then(function(response) {
                console.log("SUCCESS", response)
                successMessage.style.display = 'block'
                form.reset()
            })
            .catch(function(error) {
                console.error("FAILED", error)
                alert("Erro ao enviar a mensagem. Tente novamente mais tarde.")
            })
            .finally(() => {
                // Reabilita inputs e botão, volta texto do botão
                inputs.forEach(input => input.disabled = false)
                submitButton.disabled = false
                submitButton.textContent = 'Enviar'

                // Esconde mensagem de sucesso após 10s
                setTimeout(() => {
                    successMessage.style.display = 'none'
                }, 10000)
            })
        })
    </script>
</body>
</html>